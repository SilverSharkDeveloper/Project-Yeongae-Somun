# Yeongae-Somun Spring/JPA 프로젝트 :지역 산업 활성화를 위한 스타트업 지원 및 양성 서비스

## 🖥️ 프로젝트 소개
특정 지역의 특정 사업을 진행중인 기업과 해당 사업을 활용한 창업을 원하는 스타트업 사이의 연결고리가 되어주어 스타트업의 특출난 아이디어를 안정적인 기업의 서포트로 새로운 비즈니스 모델을 창출 할 수 있도록 돕는 플랫폼
<br>

## ✨ 기획배경
지역마다 특화된 산업이 존재하고 그 산업은 보통 어떤 한 대기업에서 경영한다. <br>
자금은 부족하지만 아이디어는 특출난 스타트업에서 지역 산업을 활용한 아이디어를 가지는 경우가 많지만 이미 해당 산업은 기업이 관리하는 경우가 많아 실질적으로 접근성이 떨어지며 산업 구조를 파악하기 어렵다.<br>
반대로 기업은 이미 안정된 사업을 바탕으로 새로운 시도를 잘 하려하지않고 갇힌 시선에서 바라보게 되어 새로운 비즈니스 모델 창출이 어렵다.<br><br>
이 둘사이의 괴리를 해결하고 수도권 인구 집중과 청년 일자리 창출, 아이디어와 투자의 매개체 역할을 위해 연계소문을 제작하게 되었다.



<img width="965" alt="image" src="https://github.com/SilverSharkDeveloper/yeongae-somun/assets/129861299/9e60a379-e371-4d41-818a-582dc6b1a08a">

<br>



## ✨ 서비스 소개
1. 스타트업과 기업은 서로의 소개페이지를 통해 자유롭게 서로를 탐색할 수 있으며 쪽지를 통해 대화가 가능하다.
2. 스타트업은 사업계획서를 구상해 자신의 사업과 맞는 지역 산업의 기업에게 지원요청을 보낼 수 있으며 기업은 사업계획서를 보고 투자할지 말지를 결정할 수 있다.
3. 스타트업에서 기업의 일일체험을 신청해 지억산업의 구조를 체험할 수 있도록 기업에서 일일체험을 제공할 수 있다.
4. 스타트업과 기업이 연계되어 창업품이 생산되면 해당 창업품을 체험할 체험단을 모집할 수 있으며 체험단의 피드백으로 상품 개선을 할 수 있다.
5. 개인회원의 경우 자신과 뜻이 맞는 스타트업에 자기소개서를 작성해 동참요청을 보낼 수 있으며 스타트업에서 인재를 구할 수 있다.


<br>

## 🕰️개발 기간
* 23.07.01 - 23.08.27

## 🧑‍🤝‍🧑 맴버구성 - 퍼블리싱 업무
 - 팀장  : 문우람 - 메인페이지,마이페이지,회원가입,로그인
 - 부팀장 : 허은상 - 관리자페이지,헤더,푸터,쪽지,검색
 - 팀원1 : 이동재 - 기업소개,스타트업소개
 - 팀원2 : 정재히 - 일일체험,창업품 리뷰

## 🧑‍🤝‍🧑 맴버구성 - 백엔드 업무
  - 팀장  : 문우람 - 일일 체험, 창업품  리뷰, 관리자 페이지,메인페이지,
  - 부팀장 : 허은상 - 로그인, 회원가입,  쪽지
  - 팀원1 : 이동재 - 기업소개,스타트업소개,
  - 팀원2 : 정재히 - 마이 페이지, 검색
 
 
 ## ✨ 프로젝트 목적 
연계 소문은 아이디어를 가진 스타트업과 지역 산업 기업의 연결고리가 되어 자금이 부족하지만 아이디어를 가진 스타트업을 자금과 산업에 구조를 가진 기업과 연계해 <br>
새로운 비즈니스 모델을 창출하여 지역 산업을 더욱 활성화하고 지역의 일자리 창출로 인한 수도권 인구 집중 현상을 완화와 아이디어와 투자의 매개체 역할을 목적으로한다.
 


 ## ✨ 목적 및 기대 효과
1.공공목적: 청년 일자리 창출, 수도권 인구 집중 완화<br>
2.수익률 기대 : 지역 산업과 스타트업의 연계로 새로운 비즈니스 모델 창출<br>
3.접근성 강화 : 기업일일체험과 창업품 체험단으로 직접적인 산업 접근을 강화<br>
4.지역경제 활성화 : 지역 산업의 발전으로 지역경제 활성화<br>


<img width="930" alt="image" src="https://github.com/SilverSharkDeveloper/yeongae-somun/assets/129861299/cfcffd80-77cd-4867-9c7c-01a31d4e8694">

## 개발 환경
- java
- SpringBoot
- Oracle
- JPA
- QueryDSL
- JPQL
- Spring-Data-JPA
- Spring-Security
- Redis
- Time-Leaf
- HTML, CSS, JS
- AWS
- REST:API
- git, gitHub
- Kakao OAuth2
- naver OAuth2
- google OAuth2
- Email Api

 ## 📌 프로젝트에서 맡은 역할 
- 프로젝트 부팀장, 서비스 기획 및 전반적인 구성, ERD 설계(도움), Entity구성, 스프링 시큐리티 적용
- 퍼블리싱 업무 : 관리자페이지,회원가입,로그인,헤더,푸터,쪽지,검색
- 백엔드 업무 :  로그인, 회원가입, 메인페이지, 쪽지
  
### 퍼블리싱 작업
 1. 관리자페이지 <br>
      -회원관리<br>
      -게시물관리<br>
      -공지사항<br>
      -문의사항<br>
  2. 쪽지<br> 
    -쪽지목록<br>
    -쪽지 상세
   
### 백엔드 작업
 1. 로그인,회원가입<br>
 2. 쪽지<br>


## ✨ 페이지흐름도

![페이지흐름도](https://github.com/SilverSharkDeveloper/yeongae-somun/assets/129861299/4737f49e-8512-4df5-b3c1-59779e999377)





## ✨ ERD
![erd](https://github.com/SilverSharkDeveloper/yeongae-somun/assets/129861299/3a74e20e-85f9-4083-a698-1d440696952e)





## ✨ 프로젝트에서 느낀점


##### ✨문제를 해결했던 부분<br>
1.웹 보안을 높이기 위해 스프링이 제공하는 security 프레임워크로 인가와 인증에 대한 권한 부여를 진행했다. 인증과 인가는 security가 제공하는 토큰값을 사용해 이루어진다. 
처음에는 이 토큰 값을 세션에 담아두었다가 사용자가 쿠키로 토큰을 들고오면 꺼내어 이와 비교해 인증과 인가가 이루어졌다.<br>
문제는 프로젝트 진행 도중 서비스 하나당 서버를 한대 사용하는 MSA아키텍쳐구조까진 아니지만 각 주요기능별로 서버를 나누고 RestFul 어플리케이션으로 제작하기로 하였다. 
이렇게 아키텍처를 변경하니 서버가 여러개가 되었고 세션은 서버단위로 존재하는 영역이므로 다른 서버에서는 다른 서버의 세션에 담긴 토큰값을 꺼내올 수 없었다. 
그래서 토큰값을 세션이아닌 데이터베이스에 저장하기로 했는데 이를 적용해보니 기능 하나를 이용할 때 마다 데이터베이스 커넥션 비용이 소모되어 성능이 떨어졌다.<br><br>

이를 해결하기 위하여 보통 JWT토큰을 사용하는데 이를 숙지하기 익히기위한 시간상 여유가 없어 데이터베이스와 세션으로 해결하기 위해 Redis를 도입했다.
Redis는 데이터를 메모리에 저장해 빠른 읽기와 쓰기가 가능한 데이터베이스 시스템으로 세션 캐싱에 효율적이여서 성능을 많이 높일 수 있었다.<br><br>
2.JPA를 사용하여 Entity를 설계하던 중 우리 서비스는 일반유저, 스타트업유저, 기업유저 이렇게 세 타입이 존재해야했다. 
User라는 부모 엔티티를 만들고 일반,스타트업,기업 엔티티가 유저 엔티티를 상속받아 엔티티를 설계했다.<br>
하지만 회원가입 화면에서 유저의 종류를 선택할 순 없고 일단 일반유저로 가입을 한 뒤 기업이나 스타트업 회원으로 전환하는 방식이였다.
처음엔 크게 문제가 될거라고 생각하지 않았지만 상속관계로 설계된 엔티티를 자식 엔티티로 crud를 하는 과정에서 이미 회원가입 시점에 생성된 부모 엔티티로 인해 어려움을 겪었다.<br>
회원가입 시 화면에서 유저의 종류를 선택하도록 만들면 insert할 때 부터 자식엔티티로 할 수 있어 해결할 수 있지만 화면을 수정하는것은 시간이 너무 오래걸리는 작업이다.<br><br>
따라서 방법을 찾아보다 일반회원 엔티티에 userType을 컬럼으로 추가하고 회원전환시 추가정보를받아 스타트업과 기업 엔티티에서 User엔티티를 참조하며 userType으로 이를 구분하도록 설계방식을 바꾸어 해결했다.<br><br>



##### ✨총평:협업에서의 책임감! <br>
4명이서 시작했던 이번 주말 JPA프로젝트는 현업자또는 직장인들과 같이 진행했다. 모두 열정도 넘치고 열심히 같이 만들어가는 분위기였지만 시간이지나 각자 일이 바빠지고 사정이 생겨 백엔드 작업 부터는 둘이서 진행하게 되었다.<br>
만들어놓은 화면에 비해 백엔드 작업이 많이 부족할 것 같아 아쉬웠지만 할 수 있는 부분을 정리하고 최대한 구현하도록 노력했다. 나 또한 평일 프로젝트도 진행중이여서 JPA프로젝트에 전념하지 못한것은 사실이다.<br><br>
이 프로젝트를 통해 프로젝트가 실패하는 방향중 하나를 깨달은 것 같다. 책임감의 부재였던 것 같다. <br>
협업이 가장 중요한 개발 프로젝트에서 주말 밖에 시간이 되지 않았고 보통 주말에 일정이있는 경우도 많아 협업이 잘 이루어지지 못한 것은 사실이나 책임감을 놓고 포기하는것은 다른 문제인 것 같다.<br>
누구나 상황은 존재한다. 하지만 그 상황속에서 부족하더라도 최선을 다하면 결국은 만족스러운 결과를 얻게되었다.<br>
이전 프로젝트를 진행할 때에도 구현 못한 부분도 많고 여러 상황이 존재했지만 그 당시에는 열정을 바탕으로 팀원들의 책임감을 돋구며 서로 최선을 다해 프로젝트를 완성시켰다.<br>
하지만 이번 프로젝트에는 그 책임감이 나또한 무뎌져 하나 둘 지쳐갔던 것 같고 결국 최선을 다한 결과물이 아닌 포기를 선택했던 것 같다.
남은 팀장님과 프로젝트를 끝까지 잘 이끌어 가보려고 했지만 결과물은 만족스럽지 못해 너무 아쉬웠다. <br><br>
이번 프로젝트를 계기로 협업과 책임감의 중요성을 깨달았고 어떤 한 프로젝트를 진행하기로 했으면 끝까지 책임지고 최선을 다해 만족스러운 결과물을 얻는 개발자가 되어 동료 개발자들에게 힘이 되어줄 것이다.



##### ✨후속작업<br>
1.N+1문제 발생시키는 쿼리 페치조인으로 변경<br>
2.OAuth2.0사용시 네이버,카카오,구글 따로 구성되어있는 로직을 OAuthAttribute 도메인 제작 후 of메서드로 정의해 모듈화 진행<br>
3.엔티티 설계시 Period 클래스 생성해 모든 엔티티에서 상속받아 created_date 자동생성 및 updated_date 자동 업데이트 기능 추가<br>

